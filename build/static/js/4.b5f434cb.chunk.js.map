{"version":3,"sources":["components/Editor/editor.module.css","utils/utils.js","components/Editor/Editor.js","containers/SendMail/SendMail.js","containers/Dashboard/Dashboard.js","components/UI/Button/Button.js","components/UI/Button/Button.module.css","components/UI/loader/loader.js","components/UI/loader/loader.module.css","containers/Dashboard/Dashboard.module.css"],"names":["module","exports","showGreetings","time","Date","getHours","WYSIWYG","props","convertingToHtml","currentHtml","convertToHTML","editorState","getCurrentContent","console","log","setHtml","editorClassName","styles","editor_editor","wrapperClassName","editor_wrapper","defaultEditorState","onEditorStateChange","state","onedit","SendMail","useState","EditorState","createEmpty","editor","setEditor","htmlContent","setHtmlContent","auth","email","from","to","setTo","subject","setSubject","sending","setSending","id","method","htmlFor","value","required","onChange","e","target","type","name","placeholder","autoComplete","className","Dashboard_body_editor","Dashboard_loader","Button","func","preventDefault","fetch","headers","body","JSON","stringify","then","response","json","data","catch","err","disable","Dashboard","Dashboard_nav","Dashboard_nav_head","Dashboard_nav_links","Dashboard_body","path","render","exact","btn","activeClassName","active","children","disabled","submit","onClick","Loader","loader"],"mappings":"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","file":"static/js/4.b5f434cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor_wrapper\":\"editor_editor_wrapper__2Zvi5\",\"editor_editor\":\"editor_editor_editor__d6qee\"};","exports.showGreetings = ()=>{\r\n    let time = (new Date()).getHours();\r\n        if(time>0 && time<12)\r\n            return \"Good Morning!\";\r\n        else if(time>=12 && time<=6)\r\n            return \"Good Afternoon!\";\r\n        else\r\n            return \"Good Evening!\";\r\n}","import styles from \"./editor.module.css\";\r\nimport {Editor} from \"react-draft-wysiwyg\";\r\nimport {EditorState} from \"draft-js\";\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport {convertToHTML} from \"draft-convert\";\r\nexport default function WYSIWYG(props){\r\n    const handleEditorChange = (state)=>{\r\n        props.onedit(state);\r\n        convertingToHtml()\r\n    }\r\n    const convertingToHtml = ()=>{\r\n        \r\n        const currentHtml = convertToHTML(props.editorState.getCurrentContent());\r\n        console.log(currentHtml)\r\n        props.setHtml(currentHtml);\r\n    }\r\n    return (\r\n        <Editor editorClassName={styles.editor_editor} wrapperClassName={styles.editor_wrapper} defaultEditorState={props.editorState} onEditorStateChange={handleEditorChange}/>\r\n    )\r\n}","import styles from \"../Dashboard/Dashboard.module.css\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"../../components/UI/loader/loader\";\r\n\r\nimport Editor from \"../../components/Editor/Editor\";\r\nimport { EditorState } from \"draft-js\";\r\nimport Button from \"../../components/UI/Button/Button\";\r\nexport default function SendMail(props) {\r\n  const [editor, setEditor] = useState(() => EditorState.createEmpty());\r\n  const [htmlContent, setHtmlContent] = useState(\"\");\r\n  // props will have auth object which will have authentication details\r\n  const [from, setFrom] = useState(props.auth.email);\r\n  const [to, setTo] = useState(\"\");\r\n  const [subject, setSubject] = useState(\"\");\r\n  const [sending, setSending] = useState(false);\r\n  const handleSendEmailSubmit = (e) => {\r\n    e.preventDefault();\r\n    setSending(true);\r\n    fetch(\"/api/mail/sendmail\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"API-Key\": \"secret\",\r\n      },\r\n      body: JSON.stringify({\r\n        to,\r\n        from,\r\n        body: htmlContent,\r\n        subject,\r\n        id: props.auth.id,\r\n      }),\r\n    })\r\n      .then((response) => {\r\n        response.json().then((data) => {\r\n          console.log(data);\r\n          setSending(false);\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <form id=\"send-email\" method=\"POST\">\r\n      <fieldset>\r\n        <label htmlFor=\"from\">From</label>\r\n        <select value={from} id=\"from\" required>\r\n          <option value={props.auth.email}>{props.auth.email}</option>\r\n        </select>\r\n      </fieldset>\r\n      <fieldset>\r\n        <label htmlFor=\"to\">To</label>\r\n        <input\r\n          value={to}\r\n          onChange={(e) => setTo(e.target.value)}\r\n          type=\"text\"\r\n          id=\"to\"\r\n          name=\"to\"\r\n          placeholder=\"Send To\"\r\n          autoComplete=\"true\"\r\n          required\r\n        />\r\n      </fieldset>\r\n      <fieldset>\r\n        <label htmlFor=\"subject\">Subject</label>\r\n        <input\r\n          value={subject}\r\n          onChange={(e) => setSubject(e.target.value)}\r\n          type=\"text\"\r\n          id=\"subject\"\r\n          name=\"subject\"\r\n          placeholder=\"What's up\"\r\n        />\r\n      </fieldset>\r\n      <fieldset>\r\n        <label htmlFor=\"body\">Message</label>\r\n        <div id=\"body\" className={styles.Dashboard_body_editor}>\r\n          <Editor\r\n            setHtml={setHtmlContent}\r\n            editorState={editor}\r\n            onedit={setEditor}\r\n          />\r\n        </div>\r\n      </fieldset>\r\n      {sending ? (\r\n        <div className={styles.Dashboard_loader}>\r\n          <Loader />\r\n        </div>\r\n      ) : (\r\n        <Button func={handleSendEmailSubmit} disable={sending}>\r\n          Send Email\r\n        </Button>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n","import { Switch, Route } from \"react-router-dom\";\r\nimport styles from \"./Dashboard.module.css\";\r\nimport SendMail from \"../SendMail/SendMail\";\r\nimport { showGreetings } from \"../../utils/utils\";\r\nimport Button from \"../../components/UI/Button/Button\";\r\nexport default function Dashboard(props) {\r\n  return (\r\n    <div id=\"user-dashboard\" className={styles.Dashboard}>\r\n      <section id=\"dashboard-navigation\" className={styles.Dashboard_nav}>\r\n        <div className={styles.Dashboard_nav_head}>\r\n          <h2>{props.auth.name}</h2>\r\n          <h5>{showGreetings()}</h5>\r\n        </div>\r\n        <div className={styles.Dashboard_nav_links}>\r\n          <ul>\r\n            <li>\r\n              <Button to=\"/dashboard/send\" type=\"link\">\r\n                Send Mail\r\n              </Button>\r\n            </li>\r\n            <li>\r\n              <Button to=\"/dashboard/activity\" type=\"link\">\r\n                Recent Activity\r\n              </Button>\r\n            </li>\r\n            <li>\r\n              <Button to=\"/\" type=\"link\">\r\n                Logout\r\n              </Button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </section>\r\n      <section className={styles.Dashboard_body}>\r\n        <Switch>\r\n          <Route path=\"/dashboard/send\" render={() => <SendMail {...props} />} />\r\n          <Route path=\"/dashboard/activity\" render={()=><h1>Under construction</h1>}/>\r\n        </Switch>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","import styles from \"./Button.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport default function Button(props){\r\n    switch(props.type){\r\n        case \"link\":\r\n            return (\r\n                <NavLink exact className={styles.btn} activeClassName={styles.active} to={props.to}>{props.children}</NavLink>\r\n            )\r\n        default:\r\n            return(\r\n                <button disabled={props.disable} type={props.submit ? \"submit\" : \"button\"} className={styles.btn} onClick={props.func}>{props.children}</button>\r\n            )\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3aZCs\",\"active\":\"Button_active__1yeq5\"};","import styles from \"./loader.module.css\";\r\n\r\nexport default function Loader(){\r\n    return (\r\n        <div className={styles.loader}></div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__2DUZy\",\"load7\":\"loader_load7__2SvwV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dashboard\":\"Dashboard_Dashboard__3yid2\",\"Dashboard_nav\":\"Dashboard_Dashboard_nav__2Up6D\",\"Dashboard_nav_head\":\"Dashboard_Dashboard_nav_head__3115G\",\"Dashboard_nav_links\":\"Dashboard_Dashboard_nav_links__3ZRpW\",\"Dashboard_body\":\"Dashboard_Dashboard_body__2GAox\",\"Dashboard_body_editor\":\"Dashboard_Dashboard_body_editor__1ah91\"};"],"sourceRoot":""}